<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>

  <script type="text/javascript">
    // LIST OF THINGS NEEDS DOING:
    // 1) work on a game of 5 rounds


    let values = ["rock", "paper", "scissors"];
    var playerPoints = 0
    var computerPoints = 0
    var tiePoints = 0


    // computer generates random a choice
    function computerPlay() {
      return values[Math.floor(Math.random() * values.length)];
    }
    var computerSelection = computerPlay();
    var playerSelection = playerChoice();


    // player chooses
    function playerChoice() {
      let input = prompt("Rock, paper or scissors?");
      input = input.toLowerCase(); //converts the input to lowercase

      // checks the user input the valid values
      while (input != "rock" && input != "paper" && input != "scissors") {
        alert("ERROR! You entered = " + input + "\nPlease enter rock paper or scissors.")
        input = prompt("Rock, paper or scissors?");
      }

      alert("Valid choice. You chose " + input)

      alert("cpu chose " + computerSelection)
      return input;
    }

    // alert(playRound(playerSelection, computerSelection))
    game()


    //plays round of RPS
    function playRound(playerSelection, computerSelection) {
      alert("round starts")


      alert("eval begins")
      if (playerSelection === computerSelection) {
        tiePoints++;
        alert("It's a DRAW!")

      } else
      if (playerSelection == "rock" && computerSelection == "scissors" || playerSelection == "scissors" && computerSelection == "paper" || playerSelection == "paper" && computerSelection == "rock") {
        alert("You WIN! " + playerSelection + " beats " + computerSelection)
        playerPoints++;

      } else {
        alert("You LOSE! " + computerSelection + " beats " + playerSelection)
        computerPoints++;
      }
      alert("End of ")

    }



    function game() {
      // Execute game 5 times
      for (let i = 1; i < 6; i++) {
        playRound(playerSelection, computerSelection)
        alert("Round " + i)
        // playerChoice()
      }

      if (playerPoints > computerPoints) {
        alert("you won");
      } else if (playerPoints < computerPoints) {
        alert("computer won");
      } else alert("it's a draw");

      alert("The final score is Player: " + playerPoints + "\nCPU: " + computerPoints)

    }
  </script>

</body>

</html>
